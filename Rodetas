FROM ubuntu:18.04
FROM ubuntu:16.04

LABEL maintainer="Rodetas" 

# Dependencias
RUN apt-get update && apt-get install -y \
    build-essential \
    cmake \
    git \
    qt5-default \
    sudo \
    protobuf-compiler \ 
    g++ \
    libzmqpp3 \
    libzmqpp-dev \
    protobuf-compiler\
    libprotobuf-dev \
    libboost-all-dev\
    libgtkmm-3.0-dev

# VSS-Core Needed

RUN git clone https://github.com/VSS-SDK/VSS-Core
RUN cd VSS-Core
WORKDIR /VSS-Core
RUN ./configure.sh
RUN cd ..
WORKDIR /

# Rodetas repository git configuring

RUN git clone https://github.com/rodetas/vsss-rodetas-LARC-2020-FiraSIM.git
RUN cd vsss-rodetas-LARC-2020-FiraSIM/net/pb/proto
WORKDIR /vsss-rodetas-LARC-2020-FiraSIM/net/pb/proto
RUN ./compile.sh
RUN cd ../../../
WORKDIR /
WORKDIR /vsss-rodetas-LARC-2020-FiraSIM
RUN ./build_test.sh
WORKDIR /

# Running automated code

RUN cd build
WORKDIR /build
RUN ./SDK-Rodetas -c yellow

# Clean apt

RUN apt-get clean


